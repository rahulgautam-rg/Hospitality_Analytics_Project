DAX formula Learned And Used

1. ADR = DIVIDE([Revenue],[Total Bookings],0)

2. ADR WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([ADR],dim_date[wn]= selv)
var revpw =  CALCULATE([ADR],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1

3. Average Ratings = AVERAGE('fact_bookings'[ratings_given])
4. Bookings % by Platform = DIVIDE([Total Bookings],CALCULATE([Total Bookings],ALL(fact_bookings[booking_platform]))*100)
5. Bookings % by Room Class = DIVIDE([Total Bookings],CALCULATE([Total Bookings],ALL(dim_rooms[room_class]))*100)
6. Cancellation % = DIVIDE([Total cancelled bookings],[Total Bookings],0)
7. DBRN = DIVIDE([Total Bookings],[No. of Days])
8. DSRN = DIVIDE([Total Capacity],[No. of Days])
9. DSRN WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([DSRN],dim_date[wn]= selv)
var revpw =  CALCULATE([DSRN],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1

10. DURN = DIVIDE([Total Checked Out],[No. of Days])
11. No Show Rate % = DIVIDE([Total No Show Bookings],[Total Bookings],0)
12. No. of Days = DATEDIFF(MIN('dim_date'[date]),MAX(dim_date[date]),DAY)+1
13. Occupancy % = DIVIDE([Total Successful Bookings],[Total Capacity],0)
14. Occupancy WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([Occupancy %],dim_date[wn]= selv)
var revpw =  CALCULATE([Occupancy %],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1
15. Realisation % = 1-([Cancellation %]+[No Show Rate %])

16. Realisation WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([Realisation %],dim_date[wn]= selv)
var revpw =  CALCULATE([Realisation %],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1

17. Revenue = SUM('fact_bookings'[revenue_realized])

18. Revenue WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([Revenue],dim_date[wn]= selv)
var revpw =  CALCULATE([Revenue],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1

19. RevPAR = DIVIDE([Revenue],[Total Capacity])
20. Revpar WoW change % = 
Var selv = IF(HASONEFILTER(dim_date[wn]),SELECTEDVALUE(dim_date[wn]),MAX(dim_date[wn]))
var revcw = CALCULATE([RevPAR],dim_date[wn]= selv)
var revpw =  CALCULATE([RevPAR],FILTER(ALL(dim_date),dim_date[wn]= selv-1))

return


DIVIDE(revcw,revpw,0)-1
21. Total Bookings = COUNT('fact_bookings'[booking_id])
22. Total cancelled bookings = CALCULATE([Total Bookings],fact_bookings[booking_status]="Cancelled")
23. Total Capacity = SUM('fact_aggregated_bookings'[capacity])
24. Total Checked Out = CALCULATE([Total Bookings],fact_bookings[booking_status]="Checked Out")
25. Total No Show Bookings = CALCULATE([Total Bookings],fact_bookings[booking_status]="No Show")
26. Total Successful Bookings = SUM('fact_aggregated_bookings'[successful_bookings])
